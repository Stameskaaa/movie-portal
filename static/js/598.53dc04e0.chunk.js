"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[598],{431:(e,t,n)=>{n.d(t,{O:()=>o});const a="ButtonLike_hearth__qmbRP",s="ButtonLike_active__nvAv7";var r=n(833),i=n(579);const o=e=>{let{active:t,onClick:n}=e;return(0,i.jsx)(r.eS$,{onClick:e=>{e.stopPropagation(),n()},className:`${a} ${t?s:null}`,size:40})}},81:(e,t,n)=>{n.d(t,{e:()=>g});var a=n(475);const s="PaginationButton_button__imGZP",r="PaginationButton_active__FazGJ";var i=n(579);const o=e=>{let{text:t,onClick:n,currentPage:a}=e;return(0,i.jsx)("button",{className:`${s} ${a===t?r:null}`,onClick:()=>(n(t),void window.scrollTo({top:0,behavior:"smooth"})),children:t})},c="PaginationComponent_container__+1A8n";var l=n(43);const u="PaginationInput_input__YuomI",d="PaginationInput_active__5gS48",_=e=>{let{totalPages:t,setData:n,currentPage:a}=e;const[s,r]=(0,l.useState)("");(0,l.useEffect)((()=>{const e=setTimeout((()=>{s&&n(s)}),500);return()=>{clearTimeout(e)}}),[s]);return(0,i.jsx)("input",{value:s,placeholder:a,onChange:e=>{/^\d*$/.test(e.target.value)&&(+e.target.value>=t?r(t+""):r(e.target.value))},className:`${u} ${+a>5&&+a!==t?d:null}`})},g=e=>{let{totalPages:t}=e;const[n,s]=(0,a.ok)(),[r,u]=(0,l.useState)("1");(0,l.useEffect)((()=>{const e=Object.fromEntries(n.entries());null!==e&&void 0!==e&&e.page?d(r):d("1")}),[r,n]);const d=e=>{const t=new URLSearchParams(n);t.set("page",e),s(t)};return(0,i.jsxs)("div",{className:c,children:[t&&t>=5&&(g=5,Array.from({length:g},((e,t)=>t+1))).map((e=>(0,i.jsx)(o,{currentPage:r,onClick:u,text:`${e}`},e)))," ",t>=6&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:". . ."}),(0,i.jsx)(_,{currentPage:r,totalPages:t,setData:u}),(0,i.jsx)(o,{currentPage:r,onClick:u,text:`${t}`},t)," "]})]});var g}},362:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(549),s=n(567),r=n(917),i=n(216),o=n(43);const c=e=>{const t=(0,a.j)(),n=(0,i.Zp)(),{userData:c,authorized:l}=(0,a.G)((e=>e.auth)),[u,d]=(0,o.useState)(!1);(0,o.useEffect)((()=>{null!==c&&void 0!==c&&c.favorites&&l&&e?d(c.favorites.includes(e)):d(!1)}),[c,l,e]);return{inFavorite:u,addInFavorite:()=>{null!==c&&void 0!==c&&c.name&&l&&e?u?(d(!1),t((0,s.C5)(e)),(0,r.Re)(c.name,e,!1)):(d(!0),t((0,s.Gm)(e)),(0,r.Re)(c.name,e,!0)):n("/auth")}}}},421:(e,t,n)=>{n.d(t,{Z:()=>c});const a={card_container:"SearchCard_card_container__A7BVa",like_container:"SearchCard_like_container__IkJzf"};var s=n(216),r=n(431),i=n(362),o=n(579);const c=e=>{const{inFavorite:t,addInFavorite:n}=(0,i.A)(e.kinopoiskId+""),c=(0,s.Zp)();return(0,o.jsxs)("div",{onClick:()=>c(`/openmovie/${e.kinopoiskId}`),className:a.card_container,children:[(0,o.jsx)("img",{className:a.image,src:e.posterUrl}),(0,o.jsx)("div",{className:a.like_container,children:(0,o.jsx)(r.O,{active:t,onClick:n})}),e.nameRu?(0,o.jsx)("p",{children:e.nameRu}):(0,o.jsx)("p",{children:e.nameOriginal})]})}},598:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(475),s=n(582),r=n(421);const i="TrendingPage_title__O-EJ7",o="TrendingPage_page_container__qYXHv",c="TrendingPage_grid_container__86C1h";var l=n(436),u=n(292),d=n(81),_=n(579);const g=()=>{const[e]=(0,a.ok)(),t=Number(e.get("page"))||1,n=e.get("type")||"TOP_POPULAR_ALL",{data:g,isLoading:v,error:m}=(0,s.$Y)({page:t,type:n});if(v)return(0,_.jsx)(u.e,{});const p=null===g||void 0===g?void 0:g.items;return(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("h4",{className:i,children:"Trending films"}),null!==p&&void 0!==p&&p.length?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:c,children:p.map((e=>(0,_.jsx)(r.Z,{...e},e.kinopoiskId)))}),(0,_.jsx)(d.e,{totalPages:g.totalPages})]}):(0,_.jsx)(l.A,{text:"Movies not found"})]})}}}]);
//# sourceMappingURL=598.53dc04e0.chunk.js.map