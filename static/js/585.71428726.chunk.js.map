{"version":3,"file":"static/js/585.71428726.chunk.js","mappings":"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","sources":["webpack://movie-portal/./src/components/ButtonLike/ButtonLike.module.scss?fdb4","components/ButtonLike/ButtonLike.tsx","hooks/useFavorite/useFavorite.ts","webpack://movie-portal/./src/pages/OpenMoviePage/MovieFullCard/MovieFullCard.module.scss?f6bb","webpack://movie-portal/./src/components/TitledText/TitledText.module.scss?96d5","components/TitledText/TitledText.tsx","pages/OpenMoviePage/MovieFullCard/MovieFullCard.tsx","webpack://movie-portal/./src/pages/OpenMoviePage/PhotoGallery/PhotoGallery.module.scss?3eae","pages/OpenMoviePage/PhotoGallery/PhotoGallery.tsx","webpack://movie-portal/./src/components/SimpleSmallSwiper/SimpleSmallSwiper.module.scss?3fe8","components/SimpleSmallSwiper/SimpleSmallSwiper.tsx","webpack://movie-portal/./src/pages/OpenMoviePage/SwiperSection/SwiperSection.module.scss?be0e","pages/OpenMoviePage/SwiperSection/SwiperSection.tsx","pages/OpenMoviePage/OpenMoviePage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"hearth\":\"ButtonLike_hearth__qmbRP\",\"active\":\"ButtonLike_active__nvAv7\"};","import styles from './ButtonLike.module.scss';\r\nimport { GoHeartFill } from 'react-icons/go';\r\n\r\ninterface Props {\r\n  active: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nexport const ButtonLike: React.FC<Props> = ({ active, onClick }) => {\r\n  const stopPropagation = (e: React.MouseEvent<SVGElement>) => {\r\n    e.stopPropagation();\r\n    onClick();\r\n  };\r\n\r\n  return (\r\n    <GoHeartFill\r\n      onClick={stopPropagation}\r\n      className={`${styles.hearth} ${active ? styles.active : null}`}\r\n      size={40}\r\n    />\r\n  );\r\n};\r\n","import { useAppSelector } from '../typedReduxHooks/reduxHook';\r\nimport { addFavorite, deleteFavorite } from '../../features/authSlice/authSlice';\r\nimport { useAppDispatch } from '../typedReduxHooks/reduxHook';\r\nimport { changeFavoriteList } from '../../utils/utils';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport const useFavorite = (id: string | undefined) => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { userData, authorized } = useAppSelector((state) => state.auth);\r\n  const [inFavorite, setInFavorite] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (userData?.favorites && authorized && id) {\r\n      setInFavorite(userData.favorites.includes(id));\r\n    } else {\r\n      setInFavorite(false);\r\n    }\r\n  }, [userData, authorized, id]);\r\n\r\n  const addInFavorite = () => {\r\n    if (userData?.name && authorized && id) {\r\n      if (inFavorite) {\r\n        setInFavorite(false);\r\n        dispatch(deleteFavorite(id));\r\n        changeFavoriteList(userData.name, id, false);\r\n      } else {\r\n        setInFavorite(true);\r\n        dispatch(addFavorite(id));\r\n        changeFavoriteList(userData.name, id, true);\r\n      }\r\n    } else {\r\n      navigate('/auth');\r\n    }\r\n  };\r\n\r\n  return { inFavorite, addInFavorite };\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieFullCard_container__5OmEd\",\"upper_container\":\"MovieFullCard_upper_container__8wIiZ\",\"down_container\":\"MovieFullCard_down_container__tfHx-\",\"leftSide\":\"MovieFullCard_leftSide__AG0vK\",\"rightSide\":\"MovieFullCard_rightSide__uiSXA\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"TitledText_container__qPls9\"};","import styles from './TitledText.module.scss';\r\n\r\ninterface Props {\r\n  title: string;\r\n  text: any;\r\n}\r\n\r\nexport const TitledText: React.FC<Props> = ({ title, text }) => {\r\n  const isValidText = (typeof text === 'string' && text.trim()) || typeof text === 'number';\r\n\r\n  if (!isValidText) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h4>{title}</h4>\r\n      <p>{text}</p>\r\n    </div>\r\n  );\r\n};\r\n","import styles from './MovieFullCard.module.scss';\r\nimport { TitledText } from '../../../components/TitledText/TitledText';\r\nimport { FilmByID } from '../../../types/apiTypes';\r\nimport { ButtonLike } from '../../../components/ButtonLike/ButtonLike';\r\nimport { useFavorite } from '../../../hooks/useFavorite/useFavorite';\r\nimport { ErrorComponent } from '../../../components/ErrorComponent/ErrorComponent';\r\n\r\ninterface Props {\r\n  data: FilmByID;\r\n  id: string | undefined;\r\n}\r\n\r\nexport const MovieFullCard: React.FC<Props> = ({ data, id }) => {\r\n  const { inFavorite, addInFavorite } = useFavorite(id);\r\n\r\n  if (!id) {\r\n    return <ErrorComponent text=\"Film not found\" />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.upper_container}>\r\n        <div className={styles.leftSide}>\r\n          <h4>{data?.nameRu ? data.nameRu : data.nameOriginal}</h4>\r\n          <img src={data.posterUrl} alt=\"N / A\" />\r\n          <p>{data.year}</p>\r\n        </div>\r\n        <div className={styles.rightSide}>\r\n          <TitledText title=\"Year\" text={data?.year} />\r\n          {data?.filmLength && <TitledText title=\"Length\" text={`${data?.filmLength} min`} />}\r\n          <TitledText title=\"Start year\" text={data?.startYear} />\r\n          <TitledText title=\"Status\" text={data?.productionStatus} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.down_container}>\r\n        <TitledText title=\"Description\" text={data?.description} />\r\n        <TitledText title=\"Slogan\" text={data?.slogan} />\r\n        <TitledText title=\"Editor annotation\" text={data?.editorAnnotation} />\r\n        <div style={{ marginLeft: 'auto', marginBottom: '30px', width: '70px' }}>\r\n          <ButtonLike onClick={addInFavorite} active={inFavorite} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PhotoGallery_wrapper__h--1v\",\"container\":\"PhotoGallery_container__npGRu\",\"photo_gallery\":\"PhotoGallery_photo_gallery__RZNbH\",\"photo_item\":\"PhotoGallery_photo_item__R7Glx\",\"modal_container\":\"PhotoGallery_modal_container__+-e2A\",\"modal_content\":\"PhotoGallery_modal_content__lxm0p\",\"switch_buttons\":\"PhotoGallery_switch_buttons__ZubPG\",\"disabled\":\"PhotoGallery_disabled__tRZgF\",\"close\":\"PhotoGallery_close__jXvdk\",\"page_info\":\"PhotoGallery_page_info__j6Ocs\"};","import React, { useEffect, useState } from 'react';\r\nimport styles from './PhotoGallery.module.scss';\r\nimport { ImageUrls } from '../../../types/apiTypes';\r\nimport { SpinnerLoader } from '../../../components/SpinnerLoader/SpinnerLoader';\r\nimport { HiMiniXMark } from 'react-icons/hi2';\r\nimport { GrNext, GrPrevious } from 'react-icons/gr';\r\ntype PhotoGalleryProps = {\r\n  photos: ImageUrls[];\r\n  loading: boolean;\r\n};\r\n\r\nexport const PhotoGallery: React.FC<PhotoGalleryProps> = ({ photos, loading }) => {\r\n  const [photoIndex, setPhotoIndex] = useState<number | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (photoIndex !== null) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = '';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [photoIndex]);\r\n\r\n  if (loading) {\r\n    return <SpinnerLoader />;\r\n  }\r\n\r\n  if (photos.length < 2) {\r\n    return null;\r\n  }\r\n\r\n  function handleModal(e: React.MouseEvent<HTMLDivElement>) {\r\n    e.stopPropagation();\r\n    const target = e.target as HTMLElement;\r\n\r\n    if (\r\n      target.classList.contains(styles.modal_container) ||\r\n      target.classList.contains(styles.close)\r\n    ) {\r\n      setPhotoIndex(null);\r\n    }\r\n\r\n    if (target.id === 'prev' && photoIndex !== null && photoIndex > 0) {\r\n      setPhotoIndex(photoIndex - 1);\r\n    }\r\n\r\n    if (target.id === 'next' && photoIndex !== null && photoIndex < photos.length - 1) {\r\n      setPhotoIndex(photoIndex + 1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.container}>\r\n        <h4>\r\n          Photo Gallery {photos.length < 4 ? photos.length : 3} / {photos.length}\r\n        </h4>\r\n        <div className={styles.photo_gallery}>\r\n          {photos.slice(0, 3).map((photo, index) => (\r\n            <div onClick={() => setPhotoIndex(index)} key={index} className={styles.photo_item}>\r\n              <img src={photo.imageUrl} alt={`Photo ${index + 1}`} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {photoIndex !== null && (\r\n          <div onClick={handleModal} className={styles.modal_container}>\r\n            <div className={styles.modal_content}>\r\n              <div\r\n                id=\"prev\"\r\n                className={`${styles.switch_buttons} ${photoIndex === 0 ? styles.disabled : null}`}>\r\n                <GrPrevious style={{ pointerEvents: 'none' }} size={45} />\r\n              </div>\r\n\r\n              {<img src={photos[photoIndex].imageUrl} alt={`Photo ${photoIndex + 1}`} />}\r\n\r\n              <div\r\n                id=\"next\"\r\n                className={`${styles.switch_buttons} ${\r\n                  photoIndex === photos.length - 1 ? styles.disabled : null\r\n                }`}>\r\n                <GrNext style={{ pointerEvents: 'none' }} size={45} />\r\n              </div>\r\n            </div>\r\n            <div className={styles.close}>\r\n              <HiMiniXMark style={{ pointerEvents: 'none' }} size={45} />\r\n            </div>\r\n\r\n            <div className={styles.page_info}>\r\n              Photo {photoIndex + 1} / {photos.length}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"embla\":\"SimpleSmallSwiper_embla__NrJlV\",\"embla_viewport\":\"SimpleSmallSwiper_embla_viewport__1yd9J\",\"embla_container\":\"SimpleSmallSwiper_embla_container__Eb90q\",\"similars_container\":\"SimpleSmallSwiper_similars_container__ax9mE\",\"card_title\":\"SimpleSmallSwiper_card_title__p2del\"};","import useEmblaCarousel from 'embla-carousel-react';\r\nimport styles from './SimpleSmallSwiper.module.scss';\r\nimport { SmallSliderCard } from '../SmallSliderCard/SmallSliderCard';\r\nimport { EmblaOptionsType } from 'embla-carousel';\r\n\r\ninterface CardData {\r\n  id?: number;\r\n  url: string;\r\n  title: string;\r\n}\r\n\r\ninterface Props {\r\n  films: CardData[];\r\n  options?: EmblaOptionsType;\r\n  title: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport const SimpleSmallSwiper: React.FC<Props> = ({ films, options, title, loading }) => {\r\n  const [emblaRef, emblaApi] = useEmblaCarousel(options);\r\n\r\n  if (loading || !films || films?.length < 2) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.embla}>\r\n      {<h3>{title}</h3>}\r\n      <div className={styles.embla_viewport} ref={emblaRef}>\r\n        <div className={styles.embla_container}>\r\n          {films.map((film, i) => {\r\n            return (\r\n              <div key={film?.id || i} className={styles.similars_container}>\r\n                {' '}\r\n                {film.title && <h4 className={styles.card_title}>{film.title}</h4>}\r\n                <SmallSliderCard img={film.url} id={film?.id} />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"background\":\"SwiperSection_background__ahW8K\"};","import { SimpleSmallSwiper } from '../../../components/SimpleSmallSwiper/SimpleSmallSwiper';\r\nimport styles from './SwiperSection.module.scss';\r\nimport { EmblaOptionsType } from 'embla-carousel';\r\n\r\ninterface CardData {\r\n  id?: number;\r\n  url: string;\r\n  title: string;\r\n}\r\n\r\ninterface Props {\r\n  title: string;\r\n  loading: boolean;\r\n  films: CardData[];\r\n  options?: EmblaOptionsType;\r\n}\r\n\r\nexport const SwiperSection: React.FC<Props> = ({ title, loading, films }) => {\r\n  if (!films || films.length < 2) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.background}>\r\n      <SimpleSmallSwiper\r\n        loading={loading}\r\n        title={title}\r\n        options={{ dragFree: true }}\r\n        films={films}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import { useParams } from 'react-router-dom';\r\nimport {\r\n  useGetBaseInfoQuery,\r\n  useGetSimilarsByIdQuery,\r\n  useGetMovieImgByIdQuery,\r\n} from '../../services/movieApi/movieApi';\r\nimport { MovieLoader } from '../../components/MovieLoader/MovieLoader';\r\nimport { ErrorComponent } from '../../components/ErrorComponent/ErrorComponent';\r\nimport { MovieFullCard } from './MovieFullCard/MovieFullCard';\r\nimport { useEffect } from 'react';\r\nimport { SimilarFilm, ImageUrls } from '../../types/apiTypes';\r\nimport { PhotoGallery } from './PhotoGallery/PhotoGallery';\r\nimport { SwiperSection } from './SwiperSection/SwiperSection';\r\n\r\nconst OpenMoviePage = () => {\r\n  const { id } = useParams();\r\n  const { data, isLoading, error } = useGetBaseInfoQuery({ id });\r\n  const { data: similarsData, isLoading: similarsloading } = useGetSimilarsByIdQuery({ id });\r\n\r\n  const { data: fanArtData, isLoading: fanArtloading } = useGetMovieImgByIdQuery({\r\n    id,\r\n    type: 'FAN_ART',\r\n  });\r\n\r\n  const { data: stillData, isLoading: stillLoading } = useGetMovieImgByIdQuery({\r\n    id,\r\n    type: 'STILL',\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [id]);\r\n\r\n  if (error) return <ErrorComponent text=\"Some Error Occured\" />;\r\n  if (isLoading) return <MovieLoader />;\r\n\r\n  return (\r\n    <>\r\n      {data ? (\r\n        <div>\r\n          <MovieFullCard data={data} id={id} />\r\n\r\n          <PhotoGallery photos={stillData?.items} loading={stillLoading} />\r\n\r\n          <SwiperSection\r\n            loading={similarsloading}\r\n            title=\"Similars films\"\r\n            options={{ dragFree: true }}\r\n            films={\r\n              similarsData &&\r\n              similarsData?.items.map((item: SimilarFilm) => ({\r\n                id: item.filmId,\r\n                url: item.posterUrl,\r\n                title: item?.nameRu || item?.nameOriginal,\r\n              }))\r\n            }\r\n          />\r\n\r\n          <SwiperSection\r\n            loading={fanArtloading}\r\n            title=\"Fan Arts\"\r\n            options={{ dragFree: true }}\r\n            films={fanArtData?.items.map((item: ImageUrls) => ({\r\n              url: item.imageUrl,\r\n            }))}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <ErrorComponent text=\"Film didnt found\" />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OpenMoviePage;\r\n"],"names":["ButtonLike","_ref","active","onClick","_jsx","GoHeartFill","e","stopPropagation","className","styles","size","useFavorite","id","dispatch","useAppDispatch","navigate","useNavigate","userData","authorized","useAppSelector","state","auth","inFavorite","setInFavorite","useState","useEffect","favorites","includes","addInFavorite","name","deleteFavorite","changeFavoriteList","addFavorite","TitledText","title","text","trim","_jsxs","children","MovieFullCard","data","nameRu","nameOriginal","src","posterUrl","alt","year","filmLength","startYear","productionStatus","description","slogan","editorAnnotation","style","marginLeft","marginBottom","width","ErrorComponent","PhotoGallery","photos","loading","photoIndex","setPhotoIndex","document","body","overflow","SpinnerLoader","length","slice","map","photo","index","imageUrl","target","classList","contains","GrPrevious","pointerEvents","GrNext","HiMiniXMark","SimpleSmallSwiper","films","options","emblaRef","emblaApi","useEmblaCarousel","ref","film","i","SmallSliderCard","img","url","SwiperSection","dragFree","OpenMoviePage","useParams","isLoading","error","useGetBaseInfoQuery","similarsData","similarsloading","useGetSimilarsByIdQuery","fanArtData","fanArtloading","useGetMovieImgByIdQuery","type","stillData","stillLoading","window","scrollTo","top","behavior","MovieLoader","_Fragment","items","item","filmId"],"sourceRoot":""}