"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[217],{431:(e,n,t)=>{t.d(n,{O:()=>o});const r="ButtonLike_hearth__qmbRP",a="ButtonLike_active__nvAv7";var i=t(833),s=t(579);const o=e=>{let{active:n,onClick:t}=e;return(0,s.jsx)(i.eS$,{onClick:e=>{e.stopPropagation(),t()},className:`${r} ${n?a:null}`,size:40})}},81:(e,n,t)=>{t.d(n,{e:()=>m});var r=t(475);const a="PaginationButton_button__imGZP",i="PaginationButton_active__FazGJ";var s=t(579);const o=e=>{let{text:n,onClick:t,currentPage:r}=e;return(0,s.jsx)("button",{className:`${a} ${r===n?i:null}`,onClick:()=>(t(n),void window.scrollTo({top:0,behavior:"smooth"})),children:n})},l="PaginationComponent_container__+1A8n";var c=t(43);const d="PaginationInput_input__YuomI",u="PaginationInput_active__5gS48",g=e=>{let{totalPages:n,setData:t,currentPage:r}=e;const[a,i]=(0,c.useState)("");(0,c.useEffect)((()=>{const e=setTimeout((()=>{a&&t(a)}),500);return()=>{clearTimeout(e)}}),[a]);return(0,s.jsx)("input",{value:a,placeholder:r,onChange:e=>{/^\d*$/.test(e.target.value)&&(+e.target.value>=n?i(n+""):i(e.target.value))},className:`${d} ${+r>5&&+r!==n?u:null}`})},m=e=>{let{totalPages:n}=e;const[t,a]=(0,r.ok)(),[i,d]=(0,c.useState)("1");(0,c.useEffect)((()=>{const e=Object.fromEntries(t.entries());null!==e&&void 0!==e&&e.page?u(i):u("1")}),[i,t]);const u=e=>{const n=new URLSearchParams(t);n.set("page",e),a(n)};return(0,s.jsxs)("div",{className:l,children:[n&&n>=5&&(m=5,Array.from({length:m},((e,n)=>n+1))).map((e=>(0,s.jsx)(o,{currentPage:i,onClick:d,text:`${e}`},e)))," ",n>=6&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:". . ."}),(0,s.jsx)(g,{currentPage:i,totalPages:n,setData:d}),(0,s.jsx)(o,{currentPage:i,onClick:d,text:`${n}`},n)," "]})]});var m}},362:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(549),a=t(567),i=t(917),s=t(216),o=t(43);const l=e=>{const n=(0,r.j)(),t=(0,s.Zp)(),{userData:l,authorized:c}=(0,r.G)((e=>e.auth)),[d,u]=(0,o.useState)(!1);(0,o.useEffect)((()=>{null!==l&&void 0!==l&&l.favorites&&c&&e?u(l.favorites.includes(e)):u(!1)}),[l,c,e]);return{inFavorite:d,addInFavorite:()=>{null!==l&&void 0!==l&&l.name&&c&&e?d?(u(!1),n((0,a.C5)(e)),(0,i.Re)(l.name,e,!1)):(u(!0),n((0,a.Gm)(e)),(0,i.Re)(l.name,e,!0)):t("/auth")}}}},421:(e,n,t)=>{t.d(n,{Z:()=>l});const r={card_container:"SearchCard_card_container__A7BVa",like_container:"SearchCard_like_container__IkJzf"};var a=t(216),i=t(431),s=t(362),o=t(579);const l=e=>{const{inFavorite:n,addInFavorite:t}=(0,s.A)(e.kinopoiskId+""),l=(0,a.Zp)();return(0,o.jsxs)("div",{onClick:()=>l(`/openmovie/${e.kinopoiskId}`),className:r.card_container,children:[(0,o.jsx)("img",{className:r.image,src:e.posterUrl}),(0,o.jsx)("div",{className:r.like_container,children:(0,o.jsx)(i.O,{active:n,onClick:t})}),e.nameRu?(0,o.jsx)("p",{children:e.nameRu}):(0,o.jsx)("p",{children:e.nameOriginal})]})}},217:(e,n,t)=>{t.r(n),t.d(n,{default:()=>P});var r=t(905),a=t(292),i=t(582),s=t(421);const o={grid_container:"SearchPage_grid_container__v3L8l"};var l=t(43),c=t(475);const d="DropDownList_dropdown__Q-x0G",u="DropDownList_dropdown_content__1UUvy",g="DropDownList_title__7HiLi";var m=t(917),_=t(579);const v=e=>{let{items:n,type:t,defaultVal:r,title:a}=e;const[i,s]=(0,c.ok)(),[o,v]=(0,l.useState)(r);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("h4",{children:a}),(0,_.jsx)("div",{className:g,children:(0,m.Zr)(o.eng)}),(0,_.jsx)("div",{className:u,children:n.map(((e,n)=>e.eng?(0,_.jsx)("p",{onClick:()=>(e=>{v(e);const n=new URLSearchParams(i.toString());n.set(t,e.id),s(n)})(e),children:(0,m.Zr)(e.eng)},n):null))})]})})},h=[{id:"RATING",ru:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",eng:"Rating"},{id:"NUM_VOTE",ru:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432",eng:"Number votes"},{id:"YEAR",ru:"\u0413\u043e\u0434",eng:"Year"}],p=[{id:"FILM",ru:"\u0424\u0438\u043b\u044c\u043c",eng:"Film"},{id:"TV_SHOW",ru:"\u0422\u0412 \u0428\u043e\u0443",eng:"TV Show"},{id:"TV_SERIES",ru:"\u0422\u0412 \u0421\u0435\u0440\u0438\u0430\u043b",eng:"TV Series"},{id:"MINI_SERIES",ru:"\u041c\u0438\u043d\u0438 \u0421\u0435\u0440\u0438\u0430\u043b",eng:"Mini Series"},{id:"ALL",ru:"\u0412\u0441\u0435",eng:"All"}],x=[{id:"ALL",ru:"\u0432\u0441\u0435",eng:"all"},{id:"1",ru:"\u0442\u0440\u0438\u043b\u043b\u0435\u0440",eng:"thriller"},{id:"2",ru:"\u0434\u0440\u0430\u043c\u0430",eng:"drama"},{id:"3",ru:"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b",eng:"crime"},{id:"4",ru:"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430",eng:"melodrama"},{id:"5",ru:"\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432",eng:"detective"},{id:"6",ru:"\u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430",eng:"fantasy"},{id:"7",ru:"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",eng:"adventure"},{id:"8",ru:"\u0431\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f",eng:"biography"},{id:"9",ru:"\u0444\u0438\u043b\u044c\u043c-\u043d\u0443\u0430\u0440",eng:"film noir"},{id:"10",ru:"\u0432\u0435\u0441\u0442\u0435\u0440\u043d",eng:"western"},{id:"11",ru:"\u0431\u043e\u0435\u0432\u0438\u043a",eng:"action"},{id:"12",ru:"\u0444\u044d\u043d\u0442\u0435\u0437\u0438",eng:"fantasy"},{id:"13",ru:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f",eng:"comedy"},{id:"14",ru:"\u0432\u043e\u0435\u043d\u043d\u044b\u0439",eng:"war"},{id:"15",ru:"\u0438\u0441\u0442\u043e\u0440\u0438\u044f",eng:"history"},{id:"16",ru:"\u043c\u0443\u0437\u044b\u043a\u0430",eng:"music"},{id:"17",ru:"\u0443\u0436\u0430\u0441\u044b",eng:"horror"},{id:"18",ru:"\u043c\u0443\u043b\u044c\u0442\u0444\u0438\u043b\u044c\u043c",eng:"animated"},{id:"19",ru:"\u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0439",eng:"family"},{id:"20",ru:"\u043c\u044e\u0437\u0438\u043a\u043b",eng:"musical"},{id:"21",ru:"\u0441\u043f\u043e\u0440\u0442",eng:"sport"},{id:"22",ru:"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439",eng:"documentary"},{id:"23",ru:"\u043a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0430",eng:"short"},{id:"24",ru:"\u0430\u043d\u0438\u043c\u0435",eng:"anime"},{id:"25",ru:"",eng:""},{id:"26",ru:"\u043d\u043e\u0432\u043e\u0441\u0442\u0438",eng:"news"},{id:"27",ru:"\u043a\u043e\u043d\u0446\u0435\u0440\u0442",eng:"concert"},{id:"28",ru:"\u0434\u043b\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445",eng:"adult"},{id:"29",ru:"\u0446\u0435\u0440\u0435\u043c\u043e\u043d\u0438\u044f",eng:"ceremony"},{id:"30",ru:"\u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u0422\u0412",eng:"reality TV"},{id:"31",ru:"\u0438\u0433\u0440\u0430",eng:"game"},{id:"32",ru:"\u0442\u043e\u043a-\u0448\u043e\u0443",eng:"talk show"},{id:"33",ru:"\u0434\u0435\u0442\u0441\u043a\u0438\u0439",eng:"children"}],j="FiltersPanel_search_container__I3yIc",k=e=>{let{data:n,setData:t}=e;return(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)(v,{title:"Type",defaultVal:{eng:"All",ru:"\u0412\u0441\u0435",id:"999"},type:"type",items:p}),(0,_.jsx)(v,{title:"Sorting",defaultVal:{eng:"Rating",ru:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",id:"999"},type:"order",items:h}),(0,_.jsx)(v,{title:"Genre",defaultVal:{eng:"All",ru:"\u0412\u0441\u0435 \u0436\u0430\u043d\u0440\u044b",id:"999"},type:"genre",items:x})]})};var f=t(436),S=t(81);const P=()=>{const[e,n]=(0,l.useState)(""),t=(0,l.useRef)(null),[d]=(0,c.ok)(),[u,g]=(0,l.useState)((()=>Object.fromEntries(d.entries()))),{data:m,error:v,isLoading:h}=(0,i.BQ)(u);(0,l.useEffect)((()=>(t.current=setTimeout((()=>{p()}),300),()=>{t.current&&clearTimeout(t.current)})),[e,d]);const p=()=>{const n={...Object.fromEntries(d.entries()),keyword:e};return g(n),n};return(0,_.jsxs)("div",{className:o.page_container,children:[" ",(0,_.jsx)(r.p,{value:e,setValue:n}),(0,_.jsx)(k,{setData:g,data:u}),h?(0,_.jsx)(a.e,{}):null!==m&&void 0!==m&&m.items.length?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:o.grid_container,children:m.items.map((e=>(0,_.jsx)(s.Z,{...e},e.kinopoiskId)))}),(0,_.jsx)(S.e,{totalPages:m.totalPages})]}):(0,_.jsx)(f.A,{text:"Movies not found "})]})}}}]);
//# sourceMappingURL=217.c549342b.chunk.js.map