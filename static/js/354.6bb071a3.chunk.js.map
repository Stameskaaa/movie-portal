{"version":3,"file":"static/js/354.6bb071a3.chunk.js","mappings":"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","sources":["webpack://movie-portal/./src/components/ButtonLike/ButtonLike.module.scss?fdb4","components/ButtonLike/ButtonLike.tsx","hooks/useFavorite/useFavorite.ts","webpack://movie-portal/./src/pages/OpenMoviePage/MovieFullCard/MovieFullCard.module.scss?f6bb","webpack://movie-portal/./src/components/TitledText/TitledText.module.scss?96d5","components/TitledText/TitledText.tsx","pages/OpenMoviePage/MovieFullCard/MovieFullCard.tsx","pages/OpenMoviePage/OpenMoviePage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"hearth\":\"ButtonLike_hearth__qmbRP\",\"active\":\"ButtonLike_active__nvAv7\"};","import styles from './ButtonLike.module.scss';\r\nimport { GoHeartFill } from 'react-icons/go';\r\n\r\ninterface Props {\r\n  active: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nexport const ButtonLike: React.FC<Props> = ({ active, onClick }) => {\r\n  const stopPropagation = (e: React.MouseEvent<SVGElement>) => {\r\n    e.stopPropagation();\r\n    onClick();\r\n  };\r\n\r\n  return (\r\n    <GoHeartFill\r\n      onClick={stopPropagation}\r\n      className={`${styles.hearth} ${active ? styles.active : null}`}\r\n      size={40}\r\n    />\r\n  );\r\n};\r\n","import { useAppSelector } from '../typedReduxHooks/reduxHook';\r\nimport { addFavorite, deleteFavorite } from '../../features/authSlice/authSlice';\r\nimport { useAppDispatch } from '../typedReduxHooks/reduxHook';\r\nimport { changeFavoriteList } from '../../utils/utils';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport const useFavorite = (id: string | undefined) => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { userData, authorized } = useAppSelector((state) => state.auth);\r\n  const [inFavorite, setInFavorite] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (userData?.favorites && authorized && id) {\r\n      setInFavorite(userData.favorites.includes(id));\r\n    } else {\r\n      setInFavorite(false);\r\n    }\r\n  }, [userData, authorized, id]);\r\n\r\n  const addInFavorite = () => {\r\n    if (userData?.name && authorized && id) {\r\n      if (inFavorite) {\r\n        setInFavorite(false);\r\n        dispatch(deleteFavorite(id));\r\n        changeFavoriteList(userData.name, id, false);\r\n      } else {\r\n        setInFavorite(true);\r\n        dispatch(addFavorite(id));\r\n        changeFavoriteList(userData.name, id, true);\r\n      }\r\n    } else {\r\n      navigate('/auth');\r\n    }\r\n  };\r\n\r\n  return { inFavorite, addInFavorite };\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieFullCard_container__5OmEd\",\"upper_container\":\"MovieFullCard_upper_container__8wIiZ\",\"down_container\":\"MovieFullCard_down_container__tfHx-\",\"leftSide\":\"MovieFullCard_leftSide__AG0vK\",\"rightSide\":\"MovieFullCard_rightSide__uiSXA\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"TitledText_container__qPls9\"};","import styles from './TitledText.module.scss';\r\n\r\ninterface Props {\r\n  title: string;\r\n  text: any;\r\n}\r\n\r\nexport const TitledText: React.FC<Props> = ({ title, text }) => {\r\n  const isValidText = (typeof text === 'string' && text.trim()) || typeof text === 'number';\r\n\r\n  if (!isValidText) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h4>{title}</h4>\r\n      <p>{text}</p>\r\n    </div>\r\n  );\r\n};\r\n","import styles from './MovieFullCard.module.scss';\r\nimport { TitledText } from '../../../components/TitledText/TitledText';\r\nimport { FilmByID } from '../../../types/apiTypes';\r\nimport { ButtonLike } from '../../../components/ButtonLike/ButtonLike';\r\nimport { useFavorite } from '../../../hooks/useFavorite/useFavorite';\r\nimport { ErrorComponent } from '../../../components/ErrorComponent/ErrorComponent';\r\n\r\ninterface Props {\r\n  data: FilmByID;\r\n  id: string | undefined;\r\n}\r\n\r\nexport const MovieFullCard: React.FC<Props> = ({ data, id }) => {\r\n  const { inFavorite, addInFavorite } = useFavorite(id);\r\n\r\n  if (!id) {\r\n    return <ErrorComponent text=\"Film not found\" />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.upper_container}>\r\n        <div className={styles.leftSide}>\r\n          <h4>{data?.nameRu ? data.nameRu : data.nameOriginal}</h4>\r\n          <img src={data.posterUrl} alt=\"N / A\" />\r\n          <p>{data.year}</p>\r\n        </div>\r\n        <div className={styles.rightSide}>\r\n          <TitledText title=\"Year\" text={data?.year} />\r\n          {data?.filmLength && <TitledText title=\"Length\" text={`${data?.filmLength} min`} />}\r\n          <TitledText title=\"Start year\" text={data?.startYear} />\r\n          <TitledText title=\"Status\" text={data?.productionStatus} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.down_container}>\r\n        <TitledText title=\"Description\" text={data?.description} />\r\n        <TitledText title=\"Slogan\" text={data?.slogan} />\r\n        <TitledText title=\"Editor annotation\" text={data?.editorAnnotation} />\r\n        <div style={{ marginLeft: 'auto', width: '100px' }}>\r\n          <ButtonLike onClick={addInFavorite} active={inFavorite} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useParams } from 'react-router-dom';\r\nimport { useGetBaseInfoQuery } from '../../services/movieApi/movieApi';\r\nimport { MovieLoader } from '../../components/MovieLoader/MovieLoader';\r\nimport { ErrorComponent } from '../../components/ErrorComponent/ErrorComponent';\r\nimport { MovieFullCard } from './MovieFullCard/MovieFullCard';\r\nimport { useEffect } from 'react';\r\n\r\nconst OpenMoviePage = () => {\r\n  const { id } = useParams();\r\n  const { data, isLoading, error } = useGetBaseInfoQuery({ id });\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  }, []);\r\n\r\n  if (error) return <div>error</div>;\r\n  if (isLoading) return <MovieLoader />;\r\n\r\n  return (\r\n    <>{data ? <MovieFullCard data={data} id={id} /> : <ErrorComponent text=\"Film didnt found\" />}</>\r\n  );\r\n};\r\n\r\nexport default OpenMoviePage;\r\n"],"names":["ButtonLike","_ref","active","onClick","_jsx","GoHeartFill","e","stopPropagation","className","styles","size","useFavorite","id","dispatch","useAppDispatch","navigate","useNavigate","userData","authorized","useAppSelector","state","auth","inFavorite","setInFavorite","useState","useEffect","favorites","includes","addInFavorite","name","deleteFavorite","changeFavoriteList","addFavorite","TitledText","title","text","trim","_jsxs","children","MovieFullCard","data","nameRu","nameOriginal","src","posterUrl","alt","year","filmLength","startYear","productionStatus","description","slogan","editorAnnotation","style","marginLeft","width","ErrorComponent","OpenMoviePage","useParams","isLoading","error","useGetBaseInfoQuery","window","scrollTo","top","behavior","MovieLoader","_Fragment"],"sourceRoot":""}