"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[943],{564:(s,e,t)=>{t.d(e,{l:()=>o});const a={container:"FloatingInput_container__-xl1h"};var n=t(579);function o(s){let{text:e,data:t,setData:o,name:c,type:r}=s;return(0,n.jsxs)("div",{className:a.container,children:[(0,n.jsx)("input",{type:r,name:c,value:t,onChange:o,placeholder:""}),(0,n.jsx)("label",{children:e})]})}},943:(s,e,t)=>{t.r(e),t.d(e,{default:()=>g});var a=t(43),n=t(216),o=t(567),c=t(917),r=t(564),l=t(978);const u="RegistationPage_container__M312C";var i=t(549),d=t(579);const g=()=>{const[s,e]=(0,a.useState)({login:"",password:"",secondPass:""}),t=(0,i.j)(),g=(0,n.Zp)(),p=s=>(s=s.replace(/\s+/g,""),(0,c.cj)(s)?{success:!1,message:"Current account have been registrated"}:s.length<5?{success:!1,message:"Login is too short"}:{success:!0,message:""}),m=(s,e)=>{if(s=s.replace(/\s+/g,""),e=e.replace(/\s+/g,""),s.length<8)return{success:!1,message:"Password is too short"};if(s!==e)return{success:!1,message:"Passwords do not match"};const t=/[A-Za-z]/.test(s),a=/[0-9]/.test(s);return t&&a?{success:!0,message:""}:{success:!1,message:"Password must contain at least one letter and one number"}},h=s=>{const{name:t,value:a}=s.target;e((s=>({...s,[t]:a})))};return(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("h4",{children:"Registration"}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(s=>{let{login:e,password:a,secondPass:n}=s;const r=p(e),l=m(a,n);r.success&&l.success?(t((0,o.gV)({authorized:!0,userData:{name:e,password:a,favorites:[]}})),(0,c.ZE)(e,a),console.log("Account succesfuly registrated"),g("/")):(console.log(!r.success&&r.message),console.log(!l.success&&l.message))})(s)},children:[(0,d.jsx)(r.l,{data:s.login,text:"Login",type:"text",setData:h,name:"login"}),(0,d.jsx)(r.l,{data:s.password,text:"password",type:"password",setData:h,name:"password"}),(0,d.jsx)(r.l,{data:s.secondPass,text:"repeat password",type:"password",setData:h,name:"secondPass"}),(0,d.jsx)(l.$,{text:"Registrate"})]}),(0,d.jsx)(l.$,{text:"Have account?",onClick:()=>g("/auth")})]})}}}]);
//# sourceMappingURL=943.6e25374b.chunk.js.map