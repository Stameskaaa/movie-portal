"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[200],{431:(t,e,a)=>{a.d(e,{O:()=>l});const n="ButtonLike_hearth__qmbRP",i="ButtonLike_active__nvAv7";var o=a(833),s=a(579);const l=t=>{let{active:e,onClick:a}=t;return(0,s.jsx)(o.eS$,{onClick:t=>{t.stopPropagation(),a()},className:`${n} ${e?i:null}`,size:40})}},81:(t,e,a)=>{a.d(e,{e:()=>x});var n=a(475);const i="PaginationButton_button__imGZP",o="PaginationButton_active__FazGJ";var s=a(579);const l=t=>{let{text:e,onClick:a,currentPage:n}=t;return(0,s.jsx)("button",{className:`${i} ${n===e?o:null}`,onClick:()=>(a(e),void window.scrollTo({top:0,behavior:"smooth"})),children:e})},r="PaginationComponent_container__+1A8n";var d=a(43);const u="PaginationInput_input__YuomI",c="PaginationInput_active__5gS48",v=t=>{let{totalPages:e,setData:a,currentPage:n}=t;const[i,o]=(0,d.useState)("");(0,d.useEffect)((()=>{const t=setTimeout((()=>{i&&a(i)}),500);return()=>{clearTimeout(t)}}),[i]);return(0,s.jsx)("input",{value:i,placeholder:n,onChange:t=>{/^\d*$/.test(t.target.value)&&(+t.target.value>=e?o(e+""):o(t.target.value))},className:`${u} ${+n>5&&+n!==e?c:null}`})},x=t=>{let{totalPages:e}=t;const[a,i]=(0,n.ok)(),[o,u]=(0,d.useState)("1");(0,d.useEffect)((()=>{const t=Object.fromEntries(a.entries());null!==t&&void 0!==t&&t.page?c(o):c("1")}),[o,a]);const c=t=>{const e=new URLSearchParams(a);e.set("page",t),i(e)};return(0,s.jsxs)("div",{className:r,children:[e&&e>=5&&(x=5,Array.from({length:x},((t,e)=>e+1))).map((t=>(0,s.jsx)(l,{currentPage:o,onClick:u,text:`${t}`},t)))," ",e>=6&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:". . ."}),(0,s.jsx)(v,{currentPage:o,totalPages:e,setData:u}),(0,s.jsx)(l,{currentPage:o,onClick:u,text:`${e}`},e)," "]})]});var x}},362:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(549),i=a(567),o=a(917),s=a(216),l=a(43);const r=t=>{const e=(0,n.j)(),a=(0,s.Zp)(),{userData:r,authorized:d}=(0,n.G)((t=>t.auth)),[u,c]=(0,l.useState)(!1);(0,l.useEffect)((()=>{null!==r&&void 0!==r&&r.favorites&&d&&t?c(r.favorites.includes(t)):c(!1)}),[r,d,t]);return{inFavorite:u,addInFavorite:()=>{null!==r&&void 0!==r&&r.name&&d&&t?u?(c(!1),e((0,i.C5)(t)),(0,o.Re)(r.name,t,!1)):(c(!0),e((0,i.Gm)(t)),(0,o.Re)(r.name,t,!0)):a("/auth")}}}},200:(t,e,a)=>{a.r(e),a.d(e,{default:()=>_});const n="FavoritesPage_page_container__739w3";var i=a(292),o=a(436),s=a(582),l=a(549),r=a(43),d=a(243),u=a(81),c=a(475),v=a(579);const x=t=>{let{array:e,page:a,pageCount:n}=t;("number"!==typeof a||a<1)&&(a=1);const i=(a-1)*n,o=i+n;return e.slice(i,o)},_=()=>{var t;const{userData:e}=(0,l.G)((t=>t.auth)),[a]=(0,c.ok)(),_=null!==e&&void 0!==e&&e.favorites.length?null===e||void 0===e?void 0:e.favorites:[],{data:m,error:g,isLoading:h,refetch:p}=(0,s.MP)({ids:_}),[j,f]=(0,r.useState)(1);return(0,r.useEffect)((()=>{p()}),[null===e||void 0===e?void 0:e.favorites]),(0,r.useEffect)((()=>{const t=Number(a.get("page"))||1;f(t)}),[a]),h?(0,v.jsx)(i.e,{}):g?(0,v.jsx)(o.A,{text:"Error"}):null!==m&&void 0!==m&&m.length?(0,v.jsxs)("div",{className:n,children:[(0,v.jsx)("h4",{children:"Favorite films"}),null===(t=x({array:m,page:j,pageCount:5}))||void 0===t?void 0:t.map(((t,e)=>(0,v.jsx)(d._,{id:t.kinopoiskId+"",data:t},e))),(null===e||void 0===e?void 0:e.favorites)&&(0,v.jsx)(u.e,{totalPages:Math.ceil((null===e||void 0===e?void 0:e.favorites.length)/5)})]}):(0,v.jsx)(o.A,{text:"Empty"})}},243:(t,e,a)=>{a.d(e,{_:()=>_});const n="MovieFullCard_container__5OmEd",i="MovieFullCard_upper_container__8wIiZ",o="MovieFullCard_down_container__tfHx-",s="MovieFullCard_leftSide__AG0vK",l="MovieFullCard_rightSide__uiSXA",r="TitledText_container__qPls9";var d=a(579);const u=t=>{let{title:e,text:a}=t;return"string"===typeof a&&a.trim()||"number"===typeof a?(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("h4",{children:e}),(0,d.jsx)("p",{children:a})]}):null};var c=a(431),v=a(362),x=a(436);const _=t=>{let{data:e,id:a}=t;const{inFavorite:r,addInFavorite:_}=(0,v.A)(a);return a?(0,d.jsxs)("div",{className:n,children:[(0,d.jsxs)("div",{className:i,children:[(0,d.jsxs)("div",{className:s,children:[(0,d.jsx)("h4",{children:null!==e&&void 0!==e&&e.nameRu?e.nameRu:e.nameOriginal}),(0,d.jsx)("img",{src:e.posterUrl,alt:"N / A"}),(0,d.jsx)("p",{children:e.year})]}),(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)(u,{title:"Year",text:null===e||void 0===e?void 0:e.year}),(null===e||void 0===e?void 0:e.filmLength)&&(0,d.jsx)(u,{title:"Length",text:`${null===e||void 0===e?void 0:e.filmLength} min`}),(0,d.jsx)(u,{title:"Start year",text:null===e||void 0===e?void 0:e.startYear}),(0,d.jsx)(u,{title:"Status",text:null===e||void 0===e?void 0:e.productionStatus})]})]}),(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)(u,{title:"Description",text:null===e||void 0===e?void 0:e.description}),(0,d.jsx)(u,{title:"Slogan",text:null===e||void 0===e?void 0:e.slogan}),(0,d.jsx)(u,{title:"Editor annotation",text:null===e||void 0===e?void 0:e.editorAnnotation}),(0,d.jsx)("div",{style:{marginLeft:"auto",marginBottom:"30px",width:"70px"},children:(0,d.jsx)(c.O,{onClick:_,active:r})})]})]}):(0,d.jsx)(x.A,{text:"Film not found"})}}}]);
//# sourceMappingURL=200.2f5e3728.chunk.js.map