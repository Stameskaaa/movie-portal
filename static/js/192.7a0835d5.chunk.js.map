{"version":3,"file":"static/js/192.7a0835d5.chunk.js","mappings":"2HACA,SAAgB,UAAY,kC,aCSrB,SAASA,EAAaC,GAA8C,IAA7C,KAAEC,EAAI,KAAEC,EAAI,QAAEC,EAAO,KAAEC,EAAI,KAAEC,GAAaL,EACtE,OACEM,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOC,UAAUC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,SAAON,KAAMA,EAAMD,KAAMA,EAAMQ,MAAOV,EAAMW,SAAUV,EAASW,YAAY,MAC3EH,EAAAA,EAAAA,KAAA,SAAAD,SAAQT,MAGd,C,8CChBA,QAA4B,4BAA5B,EAAiE,yB,2ECcjE,MA0EA,EA1EiBc,KACf,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAsB,CAC1DC,MAAO,GACPC,SAAU,KAENC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACX,WAAEC,EAAU,SAAEC,IAAaC,EAAAA,EAAAA,IAAgBC,GAAUA,EAAMC,OAsB3DC,EAAqBC,IACzB,MAAM,KAAE3B,EAAI,MAAEQ,GAAUmB,EAAEC,OAC1Bf,GAAgBgB,IAAI,IAAWA,EAAM,CAAC7B,GAAOQ,KAAS,EAGxD,OAAIa,GAEAnB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAcE,SAAA,EAC5BJ,EAAAA,EAAAA,MAAA,MAAAI,SAAA,CAAI,0BAAgC,OAARgB,QAAQ,IAARA,OAAQ,EAARA,EAAUtB,SACtCO,EAAAA,EAAAA,KAACuB,EAAAA,EAAM,CAACC,QAASA,MAbrBC,EAAAA,EAAAA,WACAb,GAASc,EAAAA,EAAAA,QAYqCpC,KAAK,eAMnDK,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAiBE,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJJ,EAAAA,EAAAA,MAAA,QACEgC,SAAWP,IACTA,EAAEQ,iBAvCeC,MAEvB,MAAMC,GAAYC,EAAAA,EAAAA,IAAoB1B,EAAYG,OAC9CsB,IACFE,EAAAA,EAAAA,IAAU3B,EAAYG,MAAOH,EAAYI,UACzCG,GACEqB,EAAAA,EAAAA,IAAQ,CAAEnB,YAAY,EAAMC,SAAU,IAAKe,EAAWrB,SAAUJ,EAAYI,aAE9EyB,QAAQC,IAAI,iBACZzB,EAAS,MAETwB,QAAQC,IAAI,cACd,EA4BMN,EAAkB,EAClB9B,SAAA,EACFC,EAAAA,EAAAA,KAACZ,EAAAA,EAAa,CACZM,KAAK,OACLH,KAAMc,EAAYG,MAClBhB,QAAS2B,EACT1B,KAAK,QACLH,KAAK,WAGPU,EAAAA,EAAAA,KAACZ,EAAAA,EAAa,CACZM,KAAK,WACLH,KAAMc,EAAYI,SAClBjB,QAAS2B,EACT1B,KAAK,WACLH,KAAK,cAGPU,EAAAA,EAAAA,KAACuB,EAAAA,EAAM,CAACjC,KAAK,gBAEfU,EAAAA,EAAAA,KAACuB,EAAAA,EAAM,CAACjC,KAAK,oBAAoBkC,QAASA,IAAMd,EAAS,qBACrD,C","sources":["webpack://movie-portal/./src/components/FloatingInput/FloatingInput.module.scss?60f8","components/FloatingInput/FloatingInput.tsx","webpack://movie-portal/./src/pages/AuthPage/AuthPage.module.scss?c98e","pages/AuthPage/AuthPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"FloatingInput_container__-xl1h\"};","import styles from './FloatingInput.module.scss';\r\n\r\ninterface Props {\r\n  text: string;\r\n  data: string;\r\n  setData: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  name: string;\r\n  type: string;\r\n}\r\n\r\nexport function FloatingInput({ text, data, setData, name, type }: Props) {\r\n  return (\r\n    <div className={styles.container}>\r\n      <input type={type} name={name} value={data} onChange={setData} placeholder=\"\" />\r\n      <label>{text}</label>\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"AuthPage_container__W6e7S\",\"logout\":\"AuthPage_logout__58weS\"};","import styles from './AuthPage.module.scss';\r\n\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { foundUserInUserList, loginUser, clearCurrentUser } from '../../utils/utils';\r\nimport { setUser, logout } from '../../features/authSlice/authSlice';\r\nimport { Button } from '../../components/Button/Button';\r\nimport { FloatingInput } from '../../components/FloatingInput/FloatingInput';\r\nimport { useAppDispatch, useAppSelector } from '../../hooks/typedReduxHooks/reduxHook';\r\n\r\ninterface LoginParams {\r\n  login: string;\r\n  password: string;\r\n}\r\n\r\nconst AuthPage = () => {\r\n  const [credentials, setCredentials] = useState<LoginParams>({\r\n    login: '',\r\n    password: '',\r\n  });\r\n  const navigate = useNavigate();\r\n  const dispatch = useAppDispatch();\r\n  const { authorized, userData } = useAppSelector((state) => state.auth);\r\n\r\n  const authenticateUser = () => {\r\n    //TODO validate\r\n    const existUser = foundUserInUserList(credentials.login);\r\n    if (existUser) {\r\n      loginUser(credentials.login, credentials.password);\r\n      dispatch(\r\n        setUser({ authorized: true, userData: { ...existUser, password: credentials.password } }),\r\n      );\r\n      console.log('success login');\r\n      navigate('/');\r\n    } else {\r\n      console.log('error login');\r\n    }\r\n  };\r\n\r\n  const unAuthenticated = () => {\r\n    clearCurrentUser();\r\n    dispatch(logout());\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setCredentials((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  if (authorized) {\r\n    return (\r\n      <div className={styles.logout}>\r\n        <h4>You already authorized {userData?.name}</h4>\r\n        <Button onClick={() => unAuthenticated()} text=\"Logout\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h4>Sign up</h4>\r\n      <form\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          authenticateUser();\r\n        }}>\r\n        <FloatingInput\r\n          type=\"text\"\r\n          data={credentials.login}\r\n          setData={handleInputChange}\r\n          name=\"login\"\r\n          text=\"Login\"\r\n        />\r\n\r\n        <FloatingInput\r\n          type=\"password\"\r\n          data={credentials.password}\r\n          setData={handleInputChange}\r\n          name=\"password\"\r\n          text=\"password\"\r\n        />\r\n\r\n        <Button text=\"Sign up\" />\r\n      </form>\r\n      <Button text=\"Create an Account\" onClick={() => navigate('/registration')} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthPage;\r\n"],"names":["FloatingInput","_ref","text","data","setData","name","type","_jsxs","className","styles","container","children","_jsx","value","onChange","placeholder","AuthPage","credentials","setCredentials","useState","login","password","navigate","useNavigate","dispatch","useAppDispatch","authorized","userData","useAppSelector","state","auth","handleInputChange","e","target","prev","Button","onClick","clearCurrentUser","logout","onSubmit","preventDefault","authenticateUser","existUser","foundUserInUserList","loginUser","setUser","console","log"],"sourceRoot":""}